just a collection of overview of owasp top 10 and other stuff, methods and tools. 

Injection 
when an attacker sends malicious data as part of a command or query to an interpreter. If successful, this malicious input will be executed as code, causing the interpreter to execute unintended commands or reveal data

OS Command Injection
==============================================================================

    Vulnerability exists when >>> User supplied input is passed to system shell.
    Attacker supplies crafted input, which is passed as parameter to shell functions like system() or exec() 
    Commands are executed with the Privilege of the vulnerable "Application"
    Commonly found in ADMIN interface of an - Application Server, firewall, router, printer


Crafted Input usually contains Shell Meta-characters

    Pipe Character "|" redirects output from one process to input of another.
    Pipe Character "|" can be used for chaining multiple commands
    Semicolon ";" is a command separator.
    Ampersand "&" is used as command separator to batch multiple commands
    Command1 & Command 2 , second commands runs regardless of success of first
    Commands1 && Command2 , second command runs only when first is successful
    Command1 || Command 2, second commands runs only when second fails
    Placing a command between BackTicks  Eg. `command` causes the Shell to execute it and replace the `command`  with the results of this command. 
    Command1 (`command2`) will evaluate to  Command1 (resultofcommand2)


Checking for OS Command Injection Vulnerability
Most reliable way is to execute a function which causes a time delay.

    ||   ping - i   30  127.0.0.1  ||
    ||   ping - n   30  127.0.0.1  ||
    Try all the MetaCharacters     |   `  &   ;    %0A    ||    &&

If time delay occurs then application may be vulnerable to command Injection

If you are not able to retrieve the results of your command, you have two options

    Output the results into  \wwwroot\output.txt file and use browser to view it
    Use TFTP to copy tools up to the server, then use telnet to create a reverse shell and Use mail command to send output to yourself via SMTP

Prevention of OS Command Injection Vulnerability

1. Avoid calling OS commands directly

    For a web application, Built-in APIs are a very good alternative to OS Commands. 
    Built-in API cannot be manipulated to perform tasks other than those it is intended to do.

2. If use of OS commands is unavoidable,

    WhiteList approach should be used. Allow only alphabets and numbers.
    Meta-characters and white-spaces should be rejected. 
    Additionally, use Command API like "Runtime.exec" in Java & "Process.Start" in ASP.NET which launch a specific process via (name, command line parameters) instead of directly passing the input to a shell interpreter. 

    Note: Command APIs like - Runtime.exec tokenizes the input into an array of words, then executes the first word in the array as command with the rest of the words as parameters. The risk in using "Runtime.exec" depends on the command being used in source code. If "cmd" is used as command, then there this poses risk of OS Command Injection. Another risk associated with Runtime.exec is that of the user entering an unintended parameter.

3. Applications should use minimum privilege accounts or use multiple low privilege accounts.

Following functions are exploited to carryout OS command Injection

PHP    - exec,  eval,   passthru,    proc_open,   shell_exec,   system,    backtick operator (`)
C/C++ - system,    execlp,   execvp,    ShellExecute,    _wsystem
JAVA  - Runtime.exec
