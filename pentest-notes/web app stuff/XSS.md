# What is XSS?
~~~
XSS flaws occur whenever an application takes untrusted data and sends it to a web browser without proper
validation and escaping. XSS allows attackers to execute scripts in the victim’s browser
~~~
# Types
# Stored XSS: 
~~~
Stored XSS occurs when user input is stored on the target server, such as in a database, in a message forum, 
visitor log, 
comment filed. And then a victim can retrieve the stored data from the web application, without that data being
made safe to render in the browser
>example is a forum post, where every user which requests the post from the server will subsequently be 
affected by the XSS attack. 
~~~  
# Reflected XSS: 
~~~
Reflected XSS occurs when user input is immediately return by a web application in an error message, search
result, 
or any other response that includes some or all the input provided by the user as part of the request.
~~~
# DOM-based XSS: 
~~~
DOM Based XSS is a form of XSS, where the entire tainted data flow from the source to sink takes place 
in the browser. 
The source of the data is in the DOM, the sink is also in the DOM, and the data flow never leaves 
the browser.
~~~
# When Does XSS Happen?
We’ll break this down by the different XSS types, since they can have different causes:
~~~
Stored & Reflected XSS: the web app or API stores user input which is unsanitised, unescaped, 
unvalidated or fails to be encoded.
~~~
~~~
DOM-based XSS: 
JavaScript frameworks, single-page applications and APIs which dynamically include user-inputted
data are vulnerable to this type of attack.
~~~    
# What can xss cause
~~~
Steal sensitive data [cookies, creds]

Phishing - "deface" onload third party js / malicious code etc. 

Redirect to thiard party malicious site
~~~

# payloads - evasion methdos 
https://n0p.net/penguicon/php_app_sec/mirror/xss.html
also check http://www.xss-payloads.com/payloads.html - browsing


# Mitigation  
~~~
1.All user input should be valid (POST and GET Method Cookie header etc.) – 
client and server side and should contain no characters that might be used to inject HTML or JS code.

2.If validation will still allow characters that can inject HTML/JS code, all user input should be encoded before being rendered by the browser.

3. Escaping input from client side 
~~~

# references to read..etc
https://www.youtube.com/watch?v=HcrQy0C-hEA&feature=youtu.be 

https://brutelogic.com.br/blog/advanced-javascript-injections/?fbclid=IwAR3hhOykvcHaAYpbvEdqV_jmvFCQgZBwq9BXh_vGvmFIuMtnfy710zGd8sw 

https://github.com/masatokinugawa/filterbypass/wiki/Browser's-XSS-Filter-Bypass-Cheat-Sheet


# WAF XSS TESTING 
https://github.com/0xInfection/Awesome-WAF 
